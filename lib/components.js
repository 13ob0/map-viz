module.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=require("react")},function(t,e){t.exports=require("echarts")},function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),i=n(1),r=n.n(i),c=["仫佬族","黎族","土家族","蒙古族","羌族","僳僳族","哈尼族","回族","布朗族","佤族","哈萨克族","藏族","撒拉族","畲族","傣族","维吾尔族","毛南族","高山族","德昂族","苗族","仡佬族","拉祜族","保安族","彝族","锡伯族","水族","裕固族","壮族","阿昌族","东乡族","京族","布依族","普米族","纳西族","独龙族","朝鲜族","塔吉克族","景颇族","鄂伦春族","满族","怒族","柯尔克孜族","赫哲族","侗族","乌孜别克族","土族","门巴族","瑶族","俄罗斯族","达斡尔族","珞巴族","白族","鄂温克族","塔塔尔族","基诺族 "];var p,s=function(t){return c.forEach((function(e){return t=t.replace(e,"")})),(t=t.replace("自治","")).endsWith("林区")?t:t.endsWith("区")||t.endsWith("市")?t.slice(0,t.length-1):t},u=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chartId=e.generateChartId(),e.chart=null,e}return u(e,t),e.prototype.generateChartId=function(){var t=Math.floor(100*Math.random()),e=(new Date).getTime();return"map"+t.toString()+e.toString()},e.prototype.componentDidMount=function(){var t=this.props,e=t.mapUrl,n=t.mapName,o=t.chartOptions,a=t.chartOnClickCallBack;this.updateMap(e,n,o,a)},e.prototype.updateMap=function(t,e,n,o){var a=this;fetch(t).then((function(t){return t.json()})).then((function(t){if(document.getElementById(a.chartId)){if(t.features.forEach((function(t){return t.properties.name=s(t.properties.name)})),r.a.registerMap(e,t),!a.chart){var i={times:0,name:""};a.chart=r.a.init(document.getElementById(a.chartId)),a.chart.on("click","series",(function(t){a.props.mobile?i.name===t.name&&1===i.times?(o(t,a.chart),i.times=0,i.name=""):(i.times=1,i.name=t.name):o(t,a.chart)})),a.chart.on("click","timeline",(function(t){a.chart.dispatchAction({type:"timelineChange",currentIndex:n.baseOption.timeline.data.findIndex((function(e){return e===t.dataIndex}))})}))}a.chart.setOption(n);var c=window.onresize;window.onresize=function(){c(),a.chart.resize()}}})).catch((function(t){return console.log("加载疫情地图出现错误！",t)}))},e.prototype.render=function(){if(this.chart){var t=this.props,e=t.mapUrl,n=t.mapName,o=t.chartOptions,i=t.chartOnClickCallBack;this.updateMap(e,n,o,i)}return a.a.createElement("div",{id:this.chartId,style:{width:"100%",height:"100%"}})},e.defaultProps={mapUrl:"",chartOptions:{},mapName:"",mobile:!0,chartOnClickCallBack:function(t,e){console.log(t,e)}},e}(a.a.Component),l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chartId=e.generateChartId(),e.chart=null,e.getEchartsInstance=function(){return r.a.getInstanceByDom(document.getElementById(e.chartId))||r.a.init(document.getElementById(e.chartId))},e}return l(e,t),e.prototype.generateChartId=function(){var t=Math.floor(100*Math.random()),e=(new Date).getTime();return"map"+t.toString()+e.toString()},e.prototype.componentDidMount=function(){var t=this;setTimeout((function(){if(document.getElementById(t.chartId)){t.chart=r.a.init(document.getElementById(t.chartId)),t.chart.setOption(t.props.chartOptions);var e=window.onresize;window.onresize=function(){e&&e(),t.chart.resize()}}}),0)},e.prototype.render=function(){return this.chart&&this.chart.setOption(this.props.chartOptions,!1,!1),a.a.createElement("div",{id:this.chartId,style:{width:"100%",height:"100%"}})},e.defaultProps={chartOptions:{}},e}(a.a.Component),m=["湖北","广东","浙江","北京","上海","湖南","安徽","重庆","四川","山东","广西","福建","江苏","河南","海南","天津","江西","陕西","贵州","辽宁","香港","黑龙江","澳门","新疆","甘肃","云南","台湾","山西","吉林","河北","宁夏","内蒙古","青海"],f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=function(t){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>.8*(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)?t*(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)/1e3:t*(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)/500},y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.getOrderedTimeData=function(t){var e=[];for(var n in t)t[n].date=parseInt(n),e.push(t[n]);return e.sort((function(t,e){return t.date-e.date})),e},e.prototype.getData=function(t,e,n,o){var a=[],i=[],r=[],c=[];if(0===o.length&&"中国"===n)for(var p=0,s=e;p<s.length;p++){var u=s[p];a.push([u.date,u.confirmedCount]),i.push([u.date,u.suspectedCount]),r.push([u.date,u.curedCount]),c.push([u.date,u.deadCount])}else if(1===o.length&&-1!==m.indexOf(n))for(var h=0,l=t;h<l.length;h++){u=l[h];a.push([u.date,u[n]?u[n].confirmed:0]),i.push([u.date,u[n]?u[n].suspected:0]),r.push([u.date,u[n]?u[n].cured:0]),c.push([u.date,u[n]?u[n].dead:0])}else if(1===o.length&&-1===m.indexOf(n))for(var d=0,f=t;d<f.length;d++){u=f[d];a.push([u.date,u[o[0]]&&u[o[0]].cities[n]?u[o[0]].cities[n].confirmed:0]),i.push([u.date,u[o[0]]&&u[o[0]].cities[n]?u[o[0]].cities[n].suspected:0]),r.push([u.date,u[o[0]]&&u[o[0]].cities[n]?u[o[0]].cities[n].cured:0]),c.push([u.date,u[o[0]]&&u[o[0]].cities[n]?u[o[0]].cities[n].dead:0])}return{confirmedData:a,suspectedData:i,curedData:r,deadData:c}},e.prototype.getConfirmedSuspectChartOptions=function(t,e,n,o){var a=this.getData(t,e,n,o),i=a.confirmedData,r=a.suspectedData;return{title:{text:n+"疫情统计",x:"center",textStyle:{fontSize:g(12)}},legend:{top:g(20),orient:"horizontal",data:["确诊","疑似"],itemWidth:g(18),itemHeight:g(9),textStyle:{fontSize:g(9)}},grid:{bottom:"11%"},tooltip:{trigger:"axis"},xAxis:{name:"时间",type:"time",nameTextStyle:{fontSize:g(9)},nameGap:5,axisLabel:{textStyle:{fontSize:g(7)},formatter:function(t){var e=new Date(t);return e.getMonth()+1+"/"+e.getDate()}}},yAxis:{name:"数量",nameTextStyle:{fontSize:g(9)},nameGap:10,axisLabel:{textStyle:{fontSize:g(7)}}},series:[{name:"确诊",data:i,type:"line",stack:"总量",symbolSize:10,lineStyle:{width:5},areaStyle:{color:"#f6bdcd"}},{name:"疑似",data:r,type:"line",stack:"总量",symbolSize:10,lineStyle:{width:5},areaStyle:{color:"#f9e4ba"}}],color:["#c22b49","#cca42d"]}},e.prototype.getCuredDeadChartOptions=function(t,e,n,o){var a=this.getData(t,e,n,o),i=a.curedData,r=a.deadData;return{title:{text:n+"疫情统计",x:"center",textStyle:{fontSize:g(12)}},legend:{top:g(20),orient:"horizontal",data:["治愈","死亡"],itemWidth:g(18),itemHeight:g(9),textStyle:{fontSize:g(9)}},tooltip:{trigger:"axis"},grid:{bottom:"11%"},xAxis:{name:"时间",title:"时间",type:"time",nameTextStyle:{fontSize:g(9)},nameGap:5,axisLabel:{textStyle:{fontSize:g(7)},formatter:function(t){var e=new Date(t);return e.getMonth()+1+"/"+e.getDate()}}},yAxis:{name:"数量",nameTextStyle:{fontSize:g(9)},nameGap:10,axisLabel:{textStyle:{fontSize:g(7)}}},series:[{name:"治愈",data:i,type:"line",symbolSize:10,lineStyle:{width:5}},{name:"死亡",data:r,type:"line",symbolSize:10,lineStyle:{width:5}}],color:["#2dce89","#86868d"]}},e.prototype.getAllChartOptions=function(t,e,n,o){var a=this.getData(t,e,n,o),i=a.confirmedData,r=a.suspectedData,c=a.curedData,p=a.deadData;return{title:{text:n+"疫情统计",x:"center",textStyle:{fontSize:g(15)}},legend:{top:g(35),orient:"horizontal",data:["确诊","疑似","治愈","死亡"],itemWidth:g(30),itemHeight:g(15),textStyle:{fontSize:g(9)}},grid:{bottom:"11%"},tooltip:{trigger:"axis"},xAxis:{name:"时间",type:"time",nameTextStyle:{fontSize:g(9)},nameGap:5,axisLabel:{textStyle:{fontSize:g(7)},formatter:function(t){var e=new Date(t);return e.getMonth()+1+"/"+e.getDate()}}},yAxis:{name:"数量",nameTextStyle:{fontSize:g(9)},nameGap:10,axisLabel:{textStyle:{fontSize:g(7)}}},series:[{name:"确诊",data:i,type:"line",stack:"总量",symbolSize:3,lineStyle:{width:1},areaStyle:{color:"#f6bdcd"}},{name:"疑似",data:r,type:"line",stack:"总量",symbolSize:3,lineStyle:{width:1},areaStyle:{color:"#f9e4ba"}},{name:"治愈",data:c,type:"line",symbolSize:3,lineStyle:{width:1}},{name:"死亡",data:p,type:"line",symbolSize:3,lineStyle:{width:1}}],color:["#c22b49","#cca42d","#2dce89","#86868d"]}},e.prototype.chartsCount=function(){switch(this.props.type){case"pc":return 2;case"mobile":return 1;case"overview":default:return 0}},e.prototype.componentDidMount=function(){if(2===this.chartsCount()){var t=this.getConfirmedSuspectChart.getEchartsInstance(),e=this.curedDeadChart.getEchartsInstance();t.group="virusChart",e.group="virusChart",r.a.connect("virusChart")}},e.prototype.render=function(){var t=this,e=this.props,n=e.data,o=e.area,i=e.path,r=this.getOrderedTimeData(n.provincesSeries),c=this.getOrderedTimeData(n.countrySeries);return 1===this.chartsCount()?a.a.createElement("div",{style:{width:"100%",height:"100%"}},a.a.createElement(d,{chartOptions:this.getAllChartOptions(r,c,o,i)})):2===this.chartsCount()?a.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"}},a.a.createElement("div",{style:{width:"100%",height:"50%"}},a.a.createElement(d,{ref:function(e){t.getConfirmedSuspectChart=e},chartOptions:this.getConfirmedSuspectChartOptions(r,c,o,i)})),a.a.createElement("div",{style:{width:"100%",height:"50%"}},a.a.createElement(d,{ref:function(e){t.curedDeadChart=e},chartOptions:this.getCuredDeadChartOptions(r,c,o,i)}))):a.a.createElement("div",null)},e.defaultProps={data:{provincesSeries:{},countrySeries:{}},area:"",path:""},e}(a.a.Component),v={"中国":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china.json","世界":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/world.json","安徽":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/anhui.json","澳门":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/aomen.json","北京":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/beijing.json","重庆":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/chongqing.json","福建":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/fujian.json","甘肃":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/gansu.json","广东":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/guangdong.json","广西":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/guangxi.json","贵州":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/guizhou.json","海南":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/hainan.json","河北":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/hebei.json","黑龙江":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/heilongjiang.json","河南":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/henan.json","湖北":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/hubei.json","湖南":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/hunan.json","江苏":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/jiangsu.json","江西":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/jiangxi.json","吉林":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/jilin.json","辽宁":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/liaoning.json","内蒙古":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/neimenggu.json","宁夏":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/ningxia.json","青海":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/qinghai.json","山东":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/shangdong.json","上海":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/shanghai.json","山西":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/shangxi.json","陕西":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/shanxi.json","四川":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/sichuan.json","天津":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/tianjin.json","香港":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/xianggang.json","新疆":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/xinjiang.json","西藏":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/xizang.json","云南":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/yunnan.json","浙江":"https://map-1252957949.cos.ap-guangzhou.myqcloud.com/china/zhejiang.json"},b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),w=function(){return(w=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},S=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),a=0;for(e=0;e<n;e++)for(var i=arguments[e],r=0,c=i.length;r<c;r++,a++)o[a]=i[r];return o},O=function(t){return"中国"===t?"china":"map"},x=["#EEEEEE","#FFFADD","#FFDC90","#FFA060","#DD6C5C","#AC2F13","#3E130E"],z=function(t,e){return S([{min:0,max:0,color:e[0]}],(n=t,n.slice(0,n.length-1).map((function(t,e){return[t,n[e+1]]}))).map((function(t,n){return{gte:t[0],lt:t[1],color:e[n+1]}})),[{gte:t[t.length-1],color:e[t.length]}]);var n},C=function(t){function e(e){var n=t.call(this,e)||this;return n.state={mapScale:1,chartArea:n.props.name},n.state={mapScale:1,chartArea:n.props.name},n}return b(e,t),e.prototype.genBasicVisualMap=function(){var t=this.props.type;return{show:!0,type:"piecewise",left:"mobile"===t?5:10,top:"mobile"===t?0:50,orient:"vertical",itemHeight:"mobile"===t?5:10,itemWidth:"mobile"===t?8:14,itemGap:"mobile"===t?5:10,itemSymbol:"circle",padding:"mobile"===t?3:10,textStyle:{fontSize:10}}},e.prototype.baseOptions=function(t,e){var n,o={pieces:z(e,x)},a=w(w({},this.genBasicVisualMap()),o);return{title:{text:t+"疫情地图",x:"center",textStyle:{fontSize:(n=15,(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>.8*(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)?n*(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)/1e3:n*(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)/500)}},tooltip:{},visualMap:[a],series:[{name:"疫情数据",type:"map",map:O(t),mapType:"map",zoom:1,label:{show:"pc"===this.props.type,fontSize:8,textBorderColor:"#FAFAFA",textBorderWidth:1},emphasis:{label:{show:"pc"===this.props.type,fontSize:8}},data:[]}]}},e.prototype.overrides=function(t){var e=this;return{tooltip:{trigger:"item",triggerOn:"onmousemove",confine:"true",formatter:function(n){if("timeline"===n.componentType)return n.dataIndex%24*36e5==0?new Date(n.dataIndex).toLocaleDateString("zh-CN"):new Date(n.dataIndex).toLocaleDateString("zh-CN-u-hc-h24");var o=[n.name];return void 0===t[n.name]?n.name+"<br/>暂无数据":(void 0!==t[n.name].confirmed&&o.push("确诊："+t[n.name].confirmed),void 0!==t[n.name].suspected&&o.push("疑似："+t[n.name].suspected),void 0!==t[n.name].cured&&o.push("治愈："+t[n.name].cured),void 0!==t[n.name].dead&&o.push("死亡："+t[n.name].dead),"mobile"===e.props.type&&o.push('<br/><div id="tooltip-detail">再次点击查看详情</div>'),o.join("<br/>"))}},series:[{data:Object.keys(t).map((function(e){return{name:e,value:t[e].confirmed||0}}))}]}},e.prototype.getChartOptions=function(t,e){void 0===e&&(e=null),e||(e=this.baseOptions(this.props.name,this.props.breaks));var n=this.overrides(t);return e.series[0].data=n.series[0].data,e.tooltip=n.tooltip,e},e.prototype.getSTChartOptions=function(t,e){var n=this;void 0===e&&(e=null);var o=this.props,a=o.name,i=o.breaks,r=o.type;return e||(e=this.baseOptions(a,i)),e.timeline={axisType:"time",show:!0,tooltip:{formatter:function(t){return new Date(parseInt(t.dataIndex,10)).toLocaleDateString("zh-CN")}},playInterval:1500,currentIndex:t.timeline.length-1,left:"20px",right:"20px",symbolSize:"mobile"===r?5:10,checkpointStyle:{symbolSize:"mobile"===r?8:13},data:t.timeline,label:{fontSize:10,position:10,formatter:function(e){return e!==t.timeline[0]&&e!==t.timeline[t.timeline.length-1]?"":new Date(parseInt(e,10)).toLocaleDateString("zh-CN").substring(5)}}},{baseOption:e,options:t.timeline.sort().map((function(e){return n.overrides(t.data[e])}))}},e.prototype.isTimelineData=function(t){return void 0!==t.timeline},e.prototype.render=function(){var t=this.props,e=t.name,n=t.data,o=t.chartOnClickCallBack,i=t.chartData,r=t.chartPath,c=t.currentChartArea,p=t.type,s=v[e];return a.a.createElement("div",{style:"mobile"===p?{display:"flex",flexDirection:"column",width:"100%",height:"100%"}:{display:"flex",flexDirection:"row",width:"100%",height:"100%"}},a.a.createElement("div",{style:"mobile"!==p?"overview"!==p?{width:"65%",height:"100%"}:{width:"100%",height:"100%"}:{width:"100%",height:"65%"}},a.a.createElement(h,{mapUrl:s,mapName:O(e),chartOptions:this.isTimelineData(n)?this.getSTChartOptions(n):this.getChartOptions(n),chartOnClickCallBack:o,mobile:"mobile"===p})),a.a.createElement("div",{style:"mobile"!==p?"overview"!==p?{width:"65%",height:"100%"}:{display:"none"}:{width:"100%",height:"35%"}},a.a.createElement(y,{data:i,area:c,path:r,type:p})))},e.defaultProps={name:"",data:{},breaks:[1,10,50,100,500,1e3],chartData:{},chartPath:[],currentChartArea:"",type:"pc",chartOnClickCallBack:function(t,e){console.log(t,e)}},e}(a.a.Component);function j(t,e){var n=e>=864e5?288e5:0;return Math.floor((t+n)/e)*e-n}function D(t){var e=Object.keys(t).sort();e.forEach((function(n,o){o<e.length-1&&Object.keys(t[n]).forEach((function(a){var i=parseInt(e[o+1],10);void 0===t[i][a]&&(t[i][a]=t[n][a])}))}))}var _=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),E=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),a=0;for(e=0;e<n;e++)for(var i=arguments[e],r=0,c=i.length;r<c;r++,a++)o[a]=i[r];return o},M=function(t){function e(e){var n=t.call(this,e)||this;return n.state={path:[],currentChartArea:"中国"},n}return _(e,t),e.prototype.navigateDown=function(t){this.setState({path:t.name&&this.state.path.length<1?E(this.state.path,[t.name]):this.state.path,currentChartArea:t.name})},e.prototype.navigateUp=function(){this.state.path.length>0&&this.setState({path:this.state.path.slice(0,this.state.path.length-1),currentChartArea:"中国"})},e.prototype.getVirusMapConfig=function(t,e,n){var o="中国",a={timeline:[],data:{}};if(0===t.length)a={timeline:Object.keys(e).map((function(t){return parseInt(t,10)})).sort(),data:e};else if(1===t.length){var i=function(t,e,n,o){void 0===o&&(o=!1);var a={};return Object.values(t).forEach((function(t){void 0!==t[e]&&(a[j(t[e].timestamp,n)]=t[e].cities)})),o&&D(a),a}(e,o=t[0],n,!0);a={timeline:Object.keys(i).map((function(t){return parseInt(t,10)})).sort(),data:i}}return{name:o,data:a,navigateDown:this.navigateDown.bind(this)}},e.prototype.autoBreaks=function(t){var e=[1,10,50,100,500,1e3],n=500*Math.floor(Math.max.apply(Math,t.filter((function(t){return void 0!==t})))/5/500)/Math.max.apply(Math,e),o=e.map((function(t){return n*t}));return o[0]=1,o},e.prototype.render=function(){var t=this.props,e=t.data,n=t.resolution,o=t.type,i=this.state,r=i.path,c=i.currentChartArea,p=this.getVirusMapConfig(r,e.provincesSeries,n),s=e.provincesSeries[Math.max.apply(Math,Object.keys(e.provincesSeries).map((function(t){return parseInt(t,10)})))];return a.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},a.a.createElement(C,{name:p.name,data:p.data,breaks:this.autoBreaks(Object.values(s).map((function(t){return t.confirmed}))),chartData:e,chartPath:r,currentChartArea:c,chartOnClickCallBack:"overview"===o?function(){}:p.navigateDown,type:o}),a.a.createElement("button",{style:{display:this.state.path.length>0?"block":"none",width:"30px",height:"30px",position:"absolute",top:"50px",left:"120px",padding:"5px",backgroundColor:"#86868d",border:"none",borderRadius:"3px",fontWeight:"bolder",color:"white",fontSize:"13pt"},onClick:this.navigateUp.bind(this)},a.a.createElement("span",null,"-")))},e.defaultProps={data:{provincesSeries:{},countrySeries:{}},resolution:36e5,type:"pc",detail:!0},e}(a.a.Component),I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mapId=e.generateMapId(),e}return I(e,t),e.prototype.generateMapId=function(){var t=Math.floor(100*Math.random());return"map"+(new Date).getTime().toString()+t.toString()},e.prototype.componentDidMount=function(){var t=this;setTimeout((function(){var e=document.createElement("script");e.src="http://api.map.baidu.com/api?v=2.0&ak="+t.props.baiduMapKey+"&callback=initialize",document.body.appendChild(e),window.initialize=function(){var e=new window.BMap.Map(t.mapId),n=new window.BMap.Point(t.props.mapOptions.initPoint[0],t.props.mapOptions.initPoint[1]);e.centerAndZoom(n,t.props.mapOptions.zoom),e.enableScrollWheelZoom(!0),e.addControl(new window.BMap.NavigationControl);for(var o=function(t){var n=new window.BMap.Point(t.point[0],t.point[1]),o=new window.BMap.Icon(t.icon,new window.BMap.Size(25,25),{offset:new window.BMap.Size(10,25)}),a=new window.BMap.Marker(n,{icon:o});a.addEventListener("click",(function(){var n=new window.BMap.InfoWindow(t.infoWindowContent,{title:t.infoWindowTitle});a.openInfoWindow(n,e.getCenter())})),e.addOverlay(a)},a=0,i=t.props.mapOptions.markerArray;a<i.length;a++){o(i[a])}}}),0)},e.prototype.render=function(){return a.a.createElement("div",{id:this.mapId,style:{width:"100%",height:"100%"}})},e.defaultProps={baiduMapKey:"4CsWt6kSluEoQFXxh8GlqoFDrctcoAIo",mapOptions:{}},e}(a.a.Component),q="http://i2.tiimg.com/708620/f869afffd7f03d19.png",A="http://i2.tiimg.com/708620/ad73337602f2cc9b.png",P="http://i2.tiimg.com/708620/15e58afc32dfc7bf.png",W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return W(e,t),e.prototype.generateDefaultInfoWindowContent=function(t){return"\n      <div>"+t+"</div>\n    "},e.prototype.generateTooltipContent=function(t,e){var n="";return t.forEach((function(t){var e=t.value;t.value&&"string"!=typeof t.value&&"number"!=typeof t.value&&(e="",t.value.forEach((function(t){var n=t.filter((function(t){return"string"==typeof t||"number"==typeof t})).map((function(t){return""+t}));n.length>0&&(e+="<div>"+n.join(" ")+"</div>")}))),e&&(n+="<div><span class='info-label'>"+(t.label||t.key)+"</span>"+e+"</div>")})),e&&(n+="<div><span class='info-label'>详情链接</span><a href='"+e+"'>点此查看</a></div>"),n},e.prototype.generateOptions=function(t,e){return{point:t.coord,icon:e,infoWindowTitle:t.name,infoWindowContent:this.generateTooltipContent(t.metadata,t.url)}},e.prototype.generateMarker=function(t){for(var e=[],n=P,o=0,a=t;o<a.length;o++){var i=a[o];n="hospital"===i.type?q:"hotel"===i.type?A:P,e.push(this.generateOptions(i,n))}return e},e.prototype.getMapOptions=function(t,e,n){var o={initPoint:t,zoom:e,markerArray:[]},a=this.generateMarker(n);return o.markerArray=o.markerArray.concat(a),o},e.prototype.render=function(){return a.a.createElement(k,{baiduMapKey:"4CsWt6kSluEoQFXxh8GlqoFDrctcoAIo",mapOptions:this.getMapOptions(this.props.initPoint,this.props.zoom,this.props.markers)})},e.defaultProps={initPoint:[0,0],zoom:1,markers:[]},e}(a.a.Component);n.d(e,"HierarchicalVirusMap",(function(){return M})),n.d(e,"InformationMap",(function(){return B}))}]);